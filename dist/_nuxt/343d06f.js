(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{417:function(t,n,e){var content=e(427);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(11).default)("c697f60a",content,!0,{sourceMap:!1})},418:function(t,n,e){var content=e(429);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(11).default)("3634dada",content,!0,{sourceMap:!1})},419:function(t,n,e){"use strict";e.r(n);var o={methods:{closeModal:function(){this.$emit("close-modal")}}},r=(e(426),e(74)),c=e(111),l=e.n(c),d=e(410),component=Object(r.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"modal",appear:""}},[e("div",{staticClass:"modal__overlay",on:{click:function(n){return n.target!==n.currentTarget?null:t.closeModal(n)}}},[e("v-card",{staticClass:"modal__window"},[e("div",{staticClass:"modal__content"},[t._t("default")],2)])],1)])}),[],!1,null,"60c2fc8c",null);n.default=component.exports;l()(component,{VCard:d.a})},426:function(t,n,e){"use strict";e(417)},427:function(t,n,e){(n=e(10)(!1)).push([t.i,".modal__overlay[data-v-60c2fc8c]{display:flex;align-items:center;justify-content:center;position:fixed;z-index:100;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,.3)}.modal__window[data-v-60c2fc8c]{height:200px;width:300px;overflow:hidden;background-color:#fff}.modal__content[data-v-60c2fc8c]{height:100%;padding:30px}",""]),t.exports=n},428:function(t,n,e){"use strict";e(418)},429:function(t,n,e){(n=e(10)(!1)).push([t.i,".add-btn{max-width:80%;height:24px;margin:0 auto}.add-btn .text{margin-bottom:-25px}.add-btn .add-btn-text:hover{background-color:#aae2de;cursor:pointer}",""]),t.exports=n},430:function(t,n,e){"use strict";var o={data:function(){return{show:!1,form:""}},props:["categoryId"],methods:{showInput:function(){this.show=!0},closeInput:function(){this.show=!1,this.form=""},addWant:function(){""!==this.form?(this.$emit("wantAdded",this.form,this.categoryId),this.show=!1,this.form=""):alert("追加する目標を入力してください")}}},r=(e(428),e(74)),c=e(111),l=e.n(c),d=e(261),f=e(457),component=Object(r.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.show?e("div",{staticClass:"add-btn"},[e("div",{staticClass:"text"},[e("v-textarea",{staticClass:"text-field",attrs:{rows:"2",solo:"",label:"新しい目標を入力してください"},model:{value:t.form,callback:function(n){t.form=n},expression:"form"}})],1),t._v(" "),e("v-btn",{staticClass:"btn",attrs:{color:"primary"},on:{click:t.addWant}},[t._v("追加")]),t._v(" "),e("v-btn",{staticClass:"btn",attrs:{color:"gray"},on:{click:t.closeInput}},[t._v("×")])],1):e("div",{staticClass:"add-btn",on:{click:t.showInput}},[e("span",{staticClass:"add-btn-text"},[t._v("＋追加")])])])}),[],!1,null,null,null);n.a=component.exports;l()(component,{VBtn:d.a,VTextarea:f.a})},435:function(t,n,e){var content=e(464);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(11).default)("e5d94cbe",content,!0,{sourceMap:!1})},463:function(t,n,e){"use strict";e(435)},464:function(t,n,e){(n=e(10)(!1)).push([t.i,".main-content{min-height:500px;min-width:85%;margin:100px auto 0;text-align:center}.main-content .category-container{width:50%;float:left}.main-content .category-container .category{background-color:#d6f2f0;text-align:center;min-height:250px}.main-content .category-container .category .item{max-width:80%;border:1px solid #48ebef;margin:3px auto;background-color:#fff;cursor:pointer}.main-content .category-container .category .add-btn{margin-top:10px}.main-content .done-btn{margin:10px auto}",""]),t.exports=n},484:function(t,n,e){"use strict";e.r(n);e(17),e(75),e(34),e(144),e(30),e(40);var o=e(5),r=e(432),c=e.n(r),l=e(419),d=e(430),f={components:{draggable:c.a,Modal:l.default,want2Add:d.a},data:function(){return{modal:!1,form:{id:"",category_id:"",name:"",reachability:"",priority:"",user:""},wantsCategory1:[],wantsCategory2:[]}},computed:{stoWants:function(){return this.$store.state.wants.stoWants}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("wants/getWants");case 2:t.setWants();case 3:case"end":return n.stop()}}),n)})))()},beforeUpdate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.wantsUpdate();case 2:case"end":return n.stop()}}),n)})))()},beforeDestroy:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.wantsUpdate();case 2:case"end":return n.stop()}}),n)})))()},methods:{setWants:function(){var t=this.stoWants,n=[],e=[];t.map((function(t){1===t.category_id?n.push(t):e.push(t)})),n.map((function(t,n){t.priority=n})),e.map((function(t,n){t.priority=n})),this.wantsCategory1=n,this.wantsCategory2=e},openModal:function(t){this.form=t,console.log(this.form),this.modal=!0},closeModal:function(){this.modal=!1},wantUpdate:function(){var t=this,n=this.wantsCategory1,e=this.wantsCategory2,o=n.concat(e).find((function(n){return n.id===t.form.id}));o=Object.assign(o,this.form),this.modal=!1,this.$store.dispatch("wants/wantUpdate",o)},wantDelete:function(){var t=this;console.log("test");var n=this.wantsCategory1.concat(this.wantsCategory2).find((function(n){return n.id===t.form.id}));if(1===this.form.category_id){var e=this.wantsCategory1.splice(n.priority,1);console.log(e)}else{var o=this.wantsCategory2.splice(n.priority,1);console.log(o)}console.log("test"),this.$store.dispatch("wants/wantDelete",n.id),this.modal=!1},wantsUpdate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.wantsCategory1,o=t.wantsCategory2,e.map((function(t,n){t.priority=n,t.category_id=1})),o.map((function(t,n){t.priority=n,t.category_id=2})),r=e.concat(o),n.next=7,t.$store.dispatch("wants/wantsUpdate",r);case 7:case"end":return n.stop()}}),n)})))()},wantAdd:function(t,n){var e=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=0,c={id:"",category_id:"",name:"",reachability:"",priority:""},1===n?0!==e.wantsCategory1.length&&(e.wantsCategory1.map((function(t){r<t.priority&&(r=t.priority)})),r+=1):2===n?0!==e.wantsCategory2.length&&(e.wantsCategory2.map((function(t){r<t.priority&&(r=t.priority)})),r+=1):console.log("error categoryId"),c.name=t,c.priority=r,c.category_id=n,o.next=8,e.$store.dispatch("wants/wantCreate",{name:t,categoryId:n,priority:r});case 8:1===n?e.wantsCategory1.push(c):e.wantsCategory2.push(c),e.form="";case 10:case"end":return o.stop()}}),o)})))()}}},m=(e(463),e(74)),v=e(111),h=e.n(v),w=e(261),y=e(410),_=e(409),x=e(479),C=e(445),k=e(457),component=Object(m.a)(f,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-row",[e("v-card",{staticClass:"main-content"},[e("v-card-title",[t._v("私が達成したい目的")]),t._v(" "),e("v-card-text",[t._v("達成したい目的を全て書き出してみましょう。"),e("br"),t._v("\n      新しく目的を追加するときは＋追加から追加してみてください。"),e("br"),t._v("\n      追加後はドラッグ＆ドロップで移動できます。")]),t._v(" "),e("v-card-title",[t._v("目的設定ツール")]),t._v(" "),e("v-col",{staticClass:"category-container"},[e("div",{staticClass:"category",attrs:{id:"category1"}},[e("p",[t._v("やり遂げたい目的")]),t._v(" "),e("draggable",{attrs:{group:"task",list:t.wantsCategory1}},t._l(t.wantsCategory1,(function(n){return e("div",{key:n.no,staticClass:"item",on:{click:function(e){return t.openModal(n)}}},[t._v("\n            "+t._s(n.name)+"\n          ")])})),0),t._v(" "),t.modal?e("Modal",{on:{"close-modal":t.closeModal}},[e("v-textarea",{attrs:{color:"primary","auto-grow":"",outlined:"",rows:"2","row-height":"4"},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}},[e("p",[t._v(t._s(t.form.name))])]),t._v(" "),e("v-btn",{attrs:{color:"#48ebef"},on:{click:t.wantUpdate}},[t._v("更新")]),t._v(" "),e("v-btn",{attrs:{color:"#f1a0f7"},on:{click:t.wantDelete}},[t._v("削除")])],1):t._e(),t._v(" "),e("want2Add",{attrs:{categoryId:1},on:{wantAdded:t.wantAdd}})],1)]),t._v(" "),e("v-col",{staticClass:"category-container"},[e("div",{staticClass:"category",attrs:{id:"category2"}},[e("p",[t._v("なんとなくの目標")]),t._v(" "),e("draggable",{attrs:{group:"task",list:t.wantsCategory2},model:{value:t.wantsCategory2,callback:function(n){t.wantsCategory2=n},expression:"wantsCategory2"}},t._l(t.wantsCategory2,(function(n){return e("div",{key:n.no,staticClass:"item",on:{click:function(e){return t.openModal(n)}}},[t._v("\n            "+t._s(n.name)+"\n          ")])})),0),t._v(" "),t.modal?e("Modal",{on:{"close-modal":t.closeModal}},[e("v-textarea",{attrs:{color:"primary","auto-grow":"",outlined:"",rows:"2","row-height":"4"},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}},[e("p",[t._v(t._s(t.form.name))])]),t._v(" "),e("v-btn",{attrs:{color:"#48ebef"},on:{click:t.wantUpdate}},[t._v("更新")]),t._v(" "),e("v-btn",{attrs:{color:"#f1a0f7"},on:{click:t.wantDelete}},[t._v("削除")])],1):t._e(),t._v(" "),e("want2Add",{attrs:{categoryId:2},on:{wantAdded:t.wantAdd}})],1)]),t._v(" "),e("v-btn",{staticClass:"done-btn",attrs:{bottom:"",color:"primary",width:"60%",to:"/mypage"}},[t._v("\n      完了")])],1)],1)}),[],!1,null,null,null);n.default=component.exports;h()(component,{Modal:e(419).default}),h()(component,{VBtn:w.a,VCard:y.a,VCardText:_.c,VCardTitle:_.d,VCol:x.a,VRow:C.a,VTextarea:k.a})}}]);